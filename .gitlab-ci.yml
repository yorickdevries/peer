image: node:carbon

services:
  - postgres:10.3

variables:
  POSTGRES_DB: peer_database
  POSTGRES_USER: postgres
  POSTGRES_PASSWORD: password

before_script:
- npm install
lint:
  script:
  - npm run tslint
build:
  script:
  - npm run build
test:
  script:
  - npm run test
coverage:
  script:
  - npm run coverage