image: node:carbon

services:
  - postgres:10.3

before_script:
- npm install
- npm build_db
lint:
  script:
  - npm run tslint
build:
  script:
  - npm run build
test:
  script:
  - npm run test
coverage:
  script:
  - npm run coverage